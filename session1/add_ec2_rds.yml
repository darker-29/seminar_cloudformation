AWSTemplateFormatVersion: "2010-09-09"
Description: Template generated by rain

Parameters:
  Name:
    Type: String
    Default: nobody
    Description: 'Enter Your Name. (example: d-ito)'
  KeyName:
    Type: AWS::EC2::KeyPair::KeyName
    Description: 'Name of an existing EC2 key pair for SSH aess to the EC2 instance.'

Resources:
  EC2:
    Type: AWS::EC2::Instance
    Properties:
      AvailabilityZone: !Select
        - 0
        - Fn::GetAZs: ""
      ImageId: CHANGEME # Optional
      InstanceType: t2.micro
      KeyName: !Ref KeyName
      PrivateIpAddress: CHANGEME # Optional
      SecurityGroups:
        - !ImportValue WebSecurityGroup
      SubnetId: !ImportValue PublicSubnet
      Tags:
        - Key: Name
          Value: !Sub '${Name}-Instance'

  RDS:
    Type: AWS::RDS::DBInstance
    Properties:
      AllocatedStorage: CHANGEME # Optional
      AllowMajorVersionUpgrade: false # Optional
      AssociatedRoles:
        - FeatureName: CHANGEME
          RoleArn: CHANGEME
      AutoMinorVersionUpgrade: false # Optional
      AvailabilityZone: CHANGEME # Optional
      BackupRetentionPeriod: 0 # Optional
      CACertificateIdentifier: CHANGEME # Optional
      CharacterSetName: CHANGEME # Optional
      CopyTagsToSnapshot: false # Optional
      DBClusterIdentifier: CHANGEME # Optional
      DBInstanceClass: CHANGEME
      DBInstanceIdentifier: CHANGEME # Optional
      DBName: CHANGEME # Optional
      DBParameterGroupName: CHANGEME # Optional
      DBSecurityGroups:
        - CHANGEME
      DBSnapshotIdentifier: CHANGEME # Optional
      DBSubnetGroupName: CHANGEME # Optional
      DeleteAutomatedBackups: false # Optional
      DeletionProtection: false # Optional
      Domain: CHANGEME # Optional
      DomainIAMRoleName: CHANGEME # Optional
      EnableCloudwatchLogsExports:
        - CHANGEME
      EnableIAMDatabaseAuthentication: false # Optional
      EnablePerformanceInsights: false # Optional
      Engine: CHANGEME # Optional
      EngineVersion: CHANGEME # Optional
      Iops: 0 # Optional
      KmsKeyId: CHANGEME # Optional
      LicenseModel: CHANGEME # Optional
      MasterUserPassword: CHANGEME # Optional
      MasterUsername: CHANGEME # Optional
      MaxAllocatedStorage: 0 # Optional
      MonitoringInterval: 0 # Optional
      MonitoringRoleArn: CHANGEME # Optional
      MultiAZ: false # Optional
      OptionGroupName: CHANGEME # Optional
      PerformanceInsightsKMSKeyId: CHANGEME # Optional
      PerformanceInsightsRetentionPeriod: 0 # Optional
      Port: CHANGEME # Optional
      PreferredBackupWindow: CHANGEME # Optional
      PreferredMaintenanceWindow: CHANGEME # Optional
      ProcessorFeatures:
        - Name: CHANGEME # Optional
          Value: CHANGEME # Optional
      PromotionTier: 0 # Optional
      PubliclyAccessible: false # Optional
      SourceDBInstanceIdentifier: CHANGEME # Optional
      SourceRegion: CHANGEME # Optional
      StorageEncrypted: false # Optional
      StorageType: CHANGEME # Optional
      Tags:
        - Key: CHANGEME
          Value: CHANGEME
      Timezone: CHANGEME # Optional
      UseDefaultProcessorFeatures: false # Optional
      VPCSecurityGroups:
        - CHANGEME


