AWSTemplateFormatVersion: "2010-09-09"
Description: Template generated by rain

Parameters:
  Env:
    Type: String
    Default: test

Resources:
  Repository:
    Type: AWS::CodeCommit::Repository
    Properties:
      RepositoryName: !Sub ${Env}-app
      RepositoryDescription: !Sub ${Env} Application Repository
      Code:
        BranchName: !Ref Env
        S3:
          Bucket: test-unique-bucket
          Key: dotfiles.zip
      Tags:
        - Key: Name
          Value: !Sub ${Env}-app

Outputs:
  Repository:
    Value: !GetAtt Repository.Name
    Export:
      Name: !Sub ${Env}-RepositoryName
