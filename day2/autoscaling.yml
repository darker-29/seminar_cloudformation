AWSTemplateFormatVersion: "2010-09-09"
Description: Template generated by rain

Parameters:
  Env:
    Type: String
    Default: test

Resources:
  MyAutoScalingGroup:
    Type: AWS::AutoScaling::AutoScalingGroup
    Properties:
      AutoScalingGroupName:
        Fn::ImportValue:
          !Sub ${Env}-ALBTargetGroup
      AvailabilityZones:
        - CHANGEME
      CapacityRebalance: false # Optional
      Cooldown: CHANGEME # Optional
      DesiredCapacity: CHANGEME # Optional
      HealthCheckGracePeriod: 0 # Optional
      HealthCheckType: CHANGEME # Optional
      InstanceId: CHANGEME # Optional
      LaunchConfigurationName: CHANGEME # Optional
      LaunchTemplate: # Optional
        LaunchTemplateId: CHANGEME # Optional
        LaunchTemplateName: CHANGEME # Optional
        Version: CHANGEME
      LifecycleHookSpecificationList:
        - DefaultResult: CHANGEME # Optional
          HeartbeatTimeout: 0 # Optional
          LifecycleHookName: CHANGEME
          LifecycleTransition: CHANGEME
          NotificationMetadata: CHANGEME # Optional
          NotificationTargetARN: CHANGEME # Optional
          RoleARN: CHANGEME # Optional
      LoadBalancerNames:
        - CHANGEME
      MaxInstanceLifetime: 0 # Optional
      MaxSize: CHANGEME
      MetricsCollection:
        - Granularity: CHANGEME
          Metrics: # Optional
            - CHANGEME
      MinSize: CHANGEME
      MixedInstancesPolicy: # Optional
        InstancesDistribution: # Optional
          OnDemandAllocationStrategy: CHANGEME # Optional
          OnDemandBaseCapacity: 0 # Optional
          OnDemandPercentageAboveBaseCapacity: 0 # Optional
          SpotAllocationStrategy: CHANGEME # Optional
          SpotInstancePools: 0 # Optional
          SpotMaxPrice: CHANGEME # Optional
        LaunchTemplate:
          LaunchTemplateSpecification:
            LaunchTemplateId: CHANGEME # Optional
            LaunchTemplateName: CHANGEME # Optional
            Version: CHANGEME
          Overrides: # Optional
            - InstanceType: CHANGEME # Optional
              LaunchTemplateSpecification: # Optional
                LaunchTemplateId: CHANGEME # Optional
                LaunchTemplateName: CHANGEME # Optional
                Version: CHANGEME
              WeightedCapacity: CHANGEME # Optional
      NewInstancesProtectedFromScaleIn: false # Optional
      NotificationConfigurations:
        - NotificationTypes: # Optional
            - CHANGEME
          TopicARN: CHANGEME
      PlacementGroup: CHANGEME # Optional
      ServiceLinkedRoleARN: CHANGEME # Optional
      Tags:
        - Key: CHANGEME
          PropagateAtLaunch: false
          Value: CHANGEME
      TargetGroupARNs:
        - CHANGEME
      TerminationPolicies:
        - CHANGEME
      VPCZoneIdentifier:
        - CHANGEME

Outputs:
  MyAutoScalingGroupLaunchConfigurationName:
    Value: !GetAtt MyAutoScalingGroup.LaunchConfigurationName

  MyAutoScalingGroupLaunchTemplateSpecification:
    Value: !GetAtt MyAutoScalingGroup.LaunchTemplateSpecification

  MyAutoScalingGroupMixedInstancesPolicy:
    Value: !GetAtt MyAutoScalingGroup.MixedInstancesPolicy

  MyAutoScalingGroupPlacementGroup:
    Value: !GetAtt MyAutoScalingGroup.PlacementGroup

  MyAutoScalingGroupVPCZoneIdentifier:
    Value: !GetAtt MyAutoScalingGroup.VPCZoneIdentifier

