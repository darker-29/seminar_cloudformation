AWSTemplateFormatVersion: "2010-09-09"
Description: Template generated by rain

Parameters:
  Env:
    Type: String
    Default: test
  Domain:
    Type: String

Resources:
  MyCertificate:
    Type: AWS::CertificateManager::Certificate
    Properties:
      DomainName: !Ref Domain
      ValidationMethod: DNS
      DomainValidationOptions:
        - DomainName: !Ref Domain
          HostedZoneId:
            Fn::ImportValue:
              !Sub ${Env}-HostedZoneId
      SubjectAlternativeNames:
        - !Join ['*.', Domain]
      Tags:
        - Key: Name
          Value: !Sub ${Env}-acm

