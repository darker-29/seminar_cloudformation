AWSTemplateFormatVersion: "2010-09-09"
Description: Template generated by rain

Parameters:
  Env:
    Type: String
    Default: test
  Domain:
    Type: String

Resources:
  Certificate:
    Type: AWS::CertificateManager::Certificate
    Properties:
      DomainName: !Ref Domain
      ValidationMethod: DNS
      DomainValidationOptions:
        - DomainName: !Ref Domain
          HostedZoneId:
            Fn::ImportValue:
              !Sub ${Env}-HostedZoneId
      Tags:
        - Key: Name
          Value: !Sub ${Env}-acm

Outputs:
  Certificate:
    Value: !Ref Certificate
    Export:
      Name: !Sub ${Env}-Certificate
